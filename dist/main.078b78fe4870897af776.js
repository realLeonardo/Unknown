(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/7QA":function(t,e,n){"use strict";n.r(e);n("OGhG"),n("33JV");var i=new(function(){function t(){this.nodeData=[]}return t.prototype.getLength=function(){return this.nodeData.length},t.prototype.getData=function(){return this.nodeData},t.prototype.push=function(t){this.nodeData.push({node:t,name:t.element.innerText,parent:void 0,children:[]})},t.prototype.turn=function(t){for(var e=t.getAttribute("data-index").split("-"),n=parseInt(e.shift()),i=parseInt(e[e.length-1]),o=this.nodeData[n],r=0,a=e;r<a.length;r++){var l=a[r];o=o.children[parseInt(l)]}!o.parent&&n>0||o.parent&&0!==i?this.createTab(t):this.deleteTab(t)},t.prototype.createTab=function(t){for(var e=t.getAttribute("data-index").split("-"),n=parseInt(e.shift()),i=this.nodeData[n],o=0,r=e;o<r.length;o++){var a=r[o];i=i.children[parseInt(a)]}var l=parseInt(e.pop());if(!i.parent&&n>0){var s=this.nodeData[n-1];s.parent?(i.parent=s.parent,s.parent.children.push(i)):(i.parent=s,s.children.push(i)),this.nodeData.splice(n,1);var d=n-1+"-"+(i.parent.children.length-1);i.node.element.setAttribute("data-index",d),(c=document.createElement("span")).innerHTML="👉",t.insertBefore(c,t.firstChild)}else if(i.parent&&0!==l){i.parent.children.splice(l,1),i.parent=i.parent.children[l-1],i.parent.children.push(i);var c;d=n+(""===e.join("-")?"":"-"+e.join("-"))+"-"+(l-1)+"-"+(i.parent.children.length-1);i.node.element.setAttribute("data-index",d),(c=document.createElement("span")).innerHTML="👉",t.insertBefore(c,t.firstChild)}},t.prototype.deleteTab=function(t){for(var e=t.getAttribute("data-index").split("-"),n=parseInt(e.shift()),i=this.nodeData[n],o=0,r=e;o<r.length;o++){var a=r[o];i=i.children[parseInt(a)]}var l=n+"-";for(a=0;a<i.parent.children.length;a++)i.parent.children[a].node.element===i.node.element&&i.parent.children.splice(a,1);i.parent=i.parent.parent,e.pop(),e.pop(),l+=e.join("-"),i.parent?(l+=i.parent.children.length,i.parent.children.push(i)):(l=this.nodeData.length+"",this.nodeData.push(i)),i.node.element.setAttribute("data-index",l),i.node.element.querySelector("span").remove(),console.log(this.nodeData)},t.prototype.update=function(){},t}()),o=function(){function t(t,e){void 0===t&&(t=document.body),this.state={currentEl:void 0};var n=document.createElement("div");n.className="editor-container";var o=document.createElement("p");o.setAttribute("contenteditable","true"),o.setAttribute("data-index","0"),o.innerText="Edit here",n.append(o),this.rootEl=n,i.push({element:o,content:o.innerText}),t.append(this.rootEl),this.init()}return t.prototype.init=function(){this.initEventHandle()},t.prototype.handleEditorClick=function(t){this.state.currentEl=t.srcElement},t.prototype.handleEditorInput=function(t){if("Tab"===t.key)t.preventDefault(),i.turn(this.state.currentEl);else if("Enter"===t.key){if(t.preventDefault(),this.state.currentEl.nextElementSibling){var e=this.state.currentEl.nextElementSibling;this.state.currentEl=e}else{var n=document.createElement("p");n.setAttribute("contenteditable","true"),n.setAttribute("data-index",i.getLength()+""),this.rootEl.append(n),this.state.currentEl=n,i.push({element:n,content:n.innerText})}this.state.currentEl.focus()}else if("Backspace"===t.key){var o=this.state.currentEl;if(""===o.innerText&&o.previousElementSibling){e=this.state.currentEl.previousElementSibling;this.state.currentEl=e,o.remove(),t.preventDefault()}this.state.currentEl.focus()}},t.prototype.initEventHandle=function(){this.rootEl.addEventListener("click",this.handleEditorClick.bind(this)),this.rootEl.addEventListener("keydown",this.handleEditorInput.bind(this))},t}(),r=(n("bGvS"),n("MT78")),a=(n("zwkd"),function(){function t(t,e){void 0===t&&(t=document.body),this.state={containerEl:void 0};var n=document.createElement("div");n.className="brain-map-cover";var i=document.createElement("div");i.className="brain-map-container",n.append(i),this.rootEl=n,this.state.containerEl=i,t.append(this.rootEl),this.init()}return t.prototype.init=function(){for(var t=r.init(this.state.containerEl),e=[],n=0,o=i.getData();n<o.length;n++){var a=o[n];e.push(this.formatNodesDataToEcharts(a))}var l={tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"tree",layout:"orthogonal",orient:"LR",symbol:"circle",symbolSize:4,edgeShape:"polyline",roam:!0,itemStyle:{color:"#37352F"},label:{show:!0,color:"#37352F",fontSize:16,position:"right",align:"left",verticalAlign:"middle"},data:e=[{name:"title",children:e}],top:"0",left:"5%",leaves:{label:{position:"right",verticalAlign:"middle",align:"left"}},expandAndCollapse:!0,animationDuration:550,animationDurationUpdate:750}]};t.setOption(l)},t.prototype.formatNodesDataToEcharts=function(t){if(0===t.children.length)return{name:t.node.element.innerText};for(var e=0;e<t.children.length;e++)t.children[e]=this.formatNodesDataToEcharts(t.children[e]);return{name:t.node.element.innerText,children:t.children}},t}()),l=function(){function t(t,e){void 0===t&&(t=document.body),this.state={};var n=document.createElement("div");n.className="tools-bar-container",this.rootEl=n,t.append(this.rootEl),this.init()}return t.prototype.init=function(){this.initBtns()},t.prototype.initBtns=function(){var t=document.createElement("div");t.className="tool",t.innerHTML="点击生成脑图",t.addEventListener("click",this.handleShowBrainMapClick.bind(this)),this.rootEl.append(t)},t.prototype.handleShowBrainMapClick=function(t){console.log("应该生成脑图了：",i.getData()),new a(document.body)},t}();document.body,new l,new o},"/U2I":function(t,e,n){(e=n("JPst")(!1)).push([t.i,".mainFontStyle {\n  color: #37352F;\n  font-size: 16px;\n  line-height: 24px;\n}\n.flexColumn {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.brain-map-cover {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  background-color: rgba(255, 255, 255, 0.7);\n}\n.brain-map-cover > .brain-map-container {\n  width: 800px;\n  height: 600px;\n  background-color: white;\n}\n",""]),t.exports=e},"33JV":function(t,e,n){var i=n("LboF"),o=n("qIrS");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1},a=(i(o,r),o.locals?o.locals:{});t.exports=a},LUCm:function(t,e,n){(e=n("JPst")(!1)).push([t.i,".editor-container {\n  width: 100%;\n  height: 100%;\n  padding: 40px 10%;\n}\n.editor-container > [contenteditable=true] {\n  cursor: text;\n}\n.editor-container p[contenteditable=true] {\n  outline: none;\n  border-bottom: 1px solid lightgray;\n  padding: 8px 0 2px 0;\n}\n.editor-container p[contenteditable=true]:focus {\n  border-bottom: 1px solid gray;\n}\n",""]),t.exports=e},OGhG:function(t,e,n){var i=n("LboF"),o=n("a3zi");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1},a=(i(o,r),o.locals?o.locals:{});t.exports=a},a3zi:function(t,e,n){(e=n("JPst")(!1)).push([t.i,".mainFontStyle {\n  color: #37352F;\n  font-size: 16px;\n  line-height: 24px;\n}\n.flexColumn {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\nbody {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #37352F;\n  font-size: 16px;\n  line-height: 24px;\n}\n",""]),t.exports=e},bGvS:function(t,e,n){var i=n("LboF"),o=n("LUCm");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1},a=(i(o,r),o.locals?o.locals:{});t.exports=a},qIrS:function(t,e,n){(e=n("JPst")(!1)).push([t.i,".editor-container {\n  width: 100%;\n  height: 100%;\n  padding: 40px 10%;\n}\n.editor-container > [contenteditable=true] {\n  cursor: text;\n}\n.editor-container p[contenteditable=true] {\n  outline: none;\n  border-bottom: 1px solid lightgray;\n  padding: 8px 0 2px 0;\n}\n.editor-container p[contenteditable=true]:focus {\n  border-bottom: 1px solid gray;\n}\n",""]),t.exports=e},zwkd:function(t,e,n){var i=n("LboF"),o=n("/U2I");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1},a=(i(o,r),o.locals?o.locals:{});t.exports=a}},[["/7QA",1,2]]]);