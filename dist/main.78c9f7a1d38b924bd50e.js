(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/7QA":function(t,e,n){"use strict";n.r(e);n("OGhG"),n("33JV");var i,o,a=new(function(){function t(){this.nodeData=[]}return t.prototype.getLength=function(){return this.nodeData.length},t.prototype.getData=function(){return this.nodeData},t.prototype.push=function(t){this.nodeData.push({node:t,parent:void 0,children:[]})},t.prototype.turn=function(t){for(var e=t.getAttribute("data-index").split("-"),n=parseInt(e.shift()),i=parseInt(e[e.length-1]),o=this.nodeData[n],a=0,r=e;a<r.length;a++){var l=r[a];o=o.children[parseInt(l)]}!o.parent&&n>0||o.parent&&0!==i?this.createTab(t):this.deleteTab(t)},t.prototype.createTab=function(t){for(var e=t.getAttribute("data-index").split("-"),n=parseInt(e.shift()),i=this.nodeData[n],o=0,a=e;o<a.length;o++){var r=a[o];i=i.children[parseInt(r)]}var l=parseInt(e.pop());if(!i.parent&&n>0){var s=this.nodeData[n-1];s.parent?(i.parent=s.parent,s.parent.children.push(i)):(i.parent=s,s.children.push(i)),this.nodeData.splice(n,1);var c=n-1+"-"+(i.parent.children.length-1);i.node.element.setAttribute("data-index",c),(d=document.createElement("span")).innerHTML="👉",t.insertBefore(d,t.firstChild)}else if(i.parent&&0!==l){i.parent.children.splice(l,1),i.parent=i.parent.children[l-1],i.parent.children.push(i);var d;c=n+(""===e.join("-")?"":"-"+e.join("-"))+"-"+(l-1)+"-"+(i.parent.children.length-1);i.node.element.setAttribute("data-index",c),(d=document.createElement("span")).innerHTML="👉",t.insertBefore(d,t.firstChild)}},t.prototype.deleteTab=function(t){for(var e=t.getAttribute("data-index").split("-"),n=parseInt(e.shift()),i=this.nodeData[n],o=0,a=e;o<a.length;o++){var r=a[o];i=i.children[parseInt(r)]}var l=n+"-";for(r=0;r<i.parent.children.length;r++)i.parent.children[r].node.element===i.node.element&&i.parent.children.splice(r,1);i.parent=i.parent.parent,e.pop(),e.pop(),l+=e.join("-"),i.parent?(l+=i.parent.children.length,i.parent.children.push(i)):(l=this.nodeData.length+"",this.nodeData.push(i)),i.node.element.setAttribute("data-index",l),i.node.element.querySelector("span").remove(),console.log(this.nodeData)},t.prototype.update=function(){},t}()),r=new(function(){function t(){this.state={containerEl:void 0,currentEditEl:void 0,titleInputEl:void 0,title:"Untitled"}}return t.prototype.init=function(t,e){void 0===t&&(t=document.body);var n=document.createElement("div");n.className="editor-root-container",this.rootEl=n;var i=document.createElement("input");i.className="editor-title-input",i.setAttribute("type","text"),i.value=this.state.title,this.state.titleInputEl=i,n.append(i);var o=document.createElement("div");o.className="editor-content-container",this.state.containerEl=o,n.append(o),t.append(this.rootEl),this.initState(),this.initEventHandle()},t.prototype.getTitle=function(){return this.state.title},t.prototype.getContentString=function(){return this.state.containerEl.innerHTML},t.prototype.initState=function(){var t=document.createElement("p");t.setAttribute("contenteditable","true"),t.setAttribute("data-index","0"),t.innerText="Edit here",this.state.containerEl.append(t),a.push({element:t,content:t.innerText})},t.prototype.initEventHandle=function(){this.state.containerEl.addEventListener("click",this.handleEditorClick.bind(this)),this.state.containerEl.addEventListener("keydown",this.handleEditorInput.bind(this)),this.state.titleInputEl.addEventListener("input",this.handleTitleInputChange.bind(this))},t.prototype.handleEditorClick=function(t){this.state.currentEditEl=t.srcElement},t.prototype.handleTitleInputChange=function(t){this.state.title=t.target.value},t.prototype.handleEditorInput=function(t){if("Tab"===t.key)t.preventDefault(),a.turn(this.state.currentEditEl);else if("Enter"===t.key){if(t.preventDefault(),this.state.currentEditEl.nextElementSibling){var e=this.state.currentEditEl.nextElementSibling;this.state.currentEditEl=e}else{var n=document.createElement("p");n.setAttribute("contenteditable","true"),n.setAttribute("data-index",a.getLength()+""),this.state.containerEl.append(n),this.state.currentEditEl=n,a.push({element:n,content:n.innerText})}this.state.currentEditEl.focus()}else if("Backspace"===t.key){var i=this.state.currentEditEl;if(""===i.innerText&&i.previousElementSibling){e=this.state.currentEditEl.previousElementSibling;this.state.currentEditEl=e,i.remove(),t.preventDefault()}this.state.currentEditEl.focus()}},t}()),l=(n("bGvS"),n("MT78")),s=(n("zwkd"),new(function(){function t(){this.state={containerEl:void 0,closeBtnEl:void 0}}return t.prototype.init=function(t,e){void 0===t&&(t=document.body);var n=document.createElement("div");n.className="brain-map-cover";var i=document.createElement("div");i.className="brain-map-container",n.append(i);var o=document.createElement("span");o.className="close-btn",o.innerText="❌",n.append(o),this.rootEl=n,this.state.containerEl=i,this.state.closeBtnEl=o,t.append(this.rootEl),this.initEventHandle();for(var s=l.init(this.state.containerEl),c=[],d=0,p=a.getData();d<p.length;d++){var h=p[d];c.push(this.formatNodesDataToEcharts(h))}var u={series:[{type:"tree",layout:"orthogonal",orient:"LR",symbol:"circle",symbolSize:4,edgeShape:"polyline",roam:"move",itemStyle:{color:"#37352F"},label:{show:!0,color:"#37352F",fontSize:16,position:"right",align:"left",verticalAlign:"middle"},data:c=[{name:r.getTitle(),children:c}],top:"0",left:"5%",leaves:{label:{position:"right",verticalAlign:"middle",align:"left"}},expandAndCollapse:!0,animationDuration:550,animationDurationUpdate:750}]};s.setOption(u)},t.prototype.handleCloseBtnClick=function(){this.rootEl.remove()},t.prototype.initEventHandle=function(){this.state.closeBtnEl.addEventListener("click",this.handleCloseBtnClick.bind(this))},t.prototype.formatNodesDataToEcharts=function(t){if(0===t.children.length)return{name:t.node.element.innerText};for(var e=0;e<t.children.length;e++)t.children[e]=this.formatNodesDataToEcharts(t.children[e]);return{name:t.node.element.innerText,children:t.children}},t}())),c=new(function(){function t(){}return t.prototype.set=function(t,e){var n;for(n in t)try{var i=JSON.stringify(t[n]||"");localStorage.setItem("unknown_"+n,i)}catch(e){console.error("设置储存字段失败:",n,t[n])}e&&e()},t.prototype.get=function(t,e){for(var n={},i=0,o=t;i<o.length;i++){var a=o[i];try{var r=localStorage.getItem("unknown_"+a);n[a]=JSON.parse(r)}catch(t){console.error("获取储存字段失败:",a)}}e(n)},t}()),d=new(function(){function t(){this.state={}}return t.prototype.init=function(t,e){void 0===t&&(t=document.body);var n=document.createElement("div");n.className="tools-bar-container",this.rootEl=n,t.append(this.rootEl),this.initBtns()},t.prototype.initBtns=function(){var t=document.createElement("button");t.className="tool-btn",t.innerHTML="Gen Brain-Map",t.addEventListener("click",this.handleShowBrainMapClick.bind(this)),this.rootEl.append(t);var e=document.createElement("button");e.className="tool-btn save-data-btn",e.innerHTML="Save Article",e.addEventListener("click",this.handleSaveDataBtnClick.bind(this)),this.rootEl.append(e);var n=document.createElement("button");n.className="tool-btn save-data-btn",n.innerHTML="TODO",n.addEventListener("click",this.handleSaveArticleBtnClick.bind(this)),this.rootEl.append(n)},t.prototype.handleShowBrainMapClick=function(t){console.log("应该生成脑图了：",a.getData()),s.init()},t.prototype.handleSaveDataBtnClick=function(t){c.get(["savedArticleData"],(function(t){var e=t.savedArticleData,n={title:r.getTitle(),content:r.getContentString(),createAt:Date.now()};e?e.unshift(n):e=[n],c.set({savedArticleData:e})}))},t.prototype.handleSaveArticleBtnClick=function(t){c.get(["savedArticleData"],(function(t){var e=t.savedArticleData,n={title:r.getTitle(),content:r.getContentString(),createAt:Date.now()};e?e.unshift(n):e=[n],c.set({savedArticleData:e})}))},t}()),p=(n("HTKd"),new(function(){function t(){this.state={articles:[],containerEl:void 0}}return t.prototype.init=function(t,e){void 0===t&&(t=document.body);var n=document.createElement("div");n.id="sidebar-container",this.rootEl=n,t.append(n),this.initElement(),this.initState(),this.initEventHandle()},t.prototype.initState=function(){var t=this;c.get(["savedArticleData"],(function(e){var n=e.savedArticleData;n&&(t.state.articles=n),t.renderArticlesList()}))},t.prototype.initElement=function(){var t=document.createElement("p");t.className="title",t.innerText="My Articles",this.rootEl.append(t);var e=document.createElement("div");e.className="articles-list-container",this.state.containerEl=e,this.rootEl.append(e)},t.prototype.initEventHandle=function(){var t=this;this.state.containerEl.querySelectorAll(".article-container").forEach((function(e){e.addEventListener("click",t.handleArticleItemClick.bind(t,e))}))},t.prototype.handleArticleItemClick=function(t,e){this.state.containerEl.querySelectorAll(".article-container").forEach((function(t){t.className="article-container"})),t.className="article-container active"},t.prototype.renderArticlesList=function(){this.state.containerEl.innerHTML="",console.log(this.state.articles);for(var t=0,e=this.state.articles;t<e.length;t++){var n=e[t],i=document.createElement("div");i.className="article-container";var o=document.createElement("p");o.className="title",o.innerText=n.title,i.append(o),this.state.containerEl.append(i)}},t}()));i=document.body,(o=document.createElement("div")).id="main-container",d.init(o),r.init(o),p.init(),i.append(o)},"/U2I":function(t,e,n){(e=n("JPst")(!1)).push([t.i,".mainFontStyle {\n  color: #37352F;\n  font-size: 16px;\n  line-height: 24px;\n}\n.flexColumn {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.brain-map-cover {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  background-color: rgba(255, 255, 255, 0.7);\n}\n.brain-map-cover > .brain-map-container {\n  width: 800px;\n  height: 600px;\n  background-color: white;\n}\n",""]),t.exports=e},"33JV":function(t,e,n){var i=n("LboF"),o=n("qIrS");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var a={insert:"head",singleton:!1},r=(i(o,a),o.locals?o.locals:{});t.exports=r},HTKd:function(t,e,n){var i=n("LboF"),o=n("YdFT");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var a={insert:"head",singleton:!1},r=(i(o,a),o.locals?o.locals:{});t.exports=r},LUCm:function(t,e,n){(e=n("JPst")(!1)).push([t.i,".tools-bar-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 70px;\n  padding: 0 10%;\n  z-index: 10;\n  display: flex;\n  flex-direction: row;\n  justify-content: start;\n  align-items: center;\n}\n.tools-bar-container > .tool-btn {\n  cursor: pointer;\n  margin-right: 10px;\n  font-size: 14px;\n}\n.tools-bar-container > .tool-btn:hover {\n  font-weight: bold;\n}\n",""]),t.exports=e},OGhG:function(t,e,n){var i=n("LboF"),o=n("a3zi");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var a={insert:"head",singleton:!1},r=(i(o,a),o.locals?o.locals:{});t.exports=r},YdFT:function(t,e,n){(e=n("JPst")(!1)).push([t.i,"#sidebar-container > .title {\n  padding: 10px 14px;\n  font-size: 14px;\n  line-height: 50px;\n  color: #37352f;\n}\n#sidebar-container > .articles-list-container {\n  width: 100%;\n}\n#sidebar-container > .articles-list-container > .article-container {\n  padding: 3px 14px;\n  cursor: pointer;\n}\n#sidebar-container > .articles-list-container > .article-container > .title {\n  font-size: 14px;\n  line-height: 22px;\n  color: #37352f;\n}\n#sidebar-container > .articles-list-container > .article-container:hover {\n  background-color: #e8e7e4;\n}\n#sidebar-container > .articles-list-container > .article-container.active {\n  font-weight: bold;\n  background-color: #e8e7e4;\n}\n",""]),t.exports=e},a3zi:function(t,e,n){(e=n("JPst")(!1)).push([t.i,".mainFontStyle {\n  color: #37352F;\n  font-size: 16px;\n  line-height: 24px;\n}\n.flexColumn {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n}\nbody {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  color: #37352F;\n  font-size: 16px;\n  line-height: 24px;\n}\nbody > #sidebar-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 200px;\n  height: 100%;\n  overflow-y: auto;\n  background-color: #f7f6f3;\n  display: flex;\n  flex-direction: column;\n  justify-content: start;\n  align-items: start;\n}\nbody > #main-container {\n  position: relative;\n  flex-grow: 1;\n  margin-left: 200px;\n  height: 100%;\n  overflow-y: auto;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n",""]),t.exports=e},bGvS:function(t,e,n){var i=n("LboF"),o=n("LUCm");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var a={insert:"head",singleton:!1},r=(i(o,a),o.locals?o.locals:{});t.exports=r},qIrS:function(t,e,n){(e=n("JPst")(!1)).push([t.i,".mainFontStyle {\n  color: #37352F;\n  font-size: 16px;\n  line-height: 24px;\n}\n.flexColumn {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.editor-root-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  padding: 70px 10% 40px 10%;\n  display: flex;\n  flex-direction: column;\n  justify-content: start;\n  align-items: center;\n}\n.editor-root-container > .editor-title-input {\n  width: 100%;\n  margin-bottom: 20px;\n  font-size: 40px;\n  font-weight: 700;\n  line-height: 48px;\n  color: #37352f;\n  outline: none;\n  border: none;\n}\n.editor-root-container > .editor-content-container {\n  width: 100%;\n  overflow-y: auto;\n  color: #37352f;\n}\n.editor-root-container > .editor-content-container > [contenteditable=true] {\n  cursor: text;\n}\n.editor-root-container > .editor-content-container p[contenteditable=true] {\n  outline: none;\n  padding: 8px 0 2px 0;\n}\n",""]),t.exports=e},zwkd:function(t,e,n){var i=n("LboF"),o=n("/U2I");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var a={insert:"head",singleton:!1},r=(i(o,a),o.locals?o.locals:{});t.exports=r}},[["/7QA",1,2]]]);