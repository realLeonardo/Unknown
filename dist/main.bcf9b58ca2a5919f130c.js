(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/7QA":function(t,e,n){"use strict";n.r(e);n("OGhG"),n("33JV");var i=new(function(){function t(){this.nodeData=[]}return t.prototype.getLength=function(){return this.nodeData.length},t.prototype.getData=function(){return this.nodeData},t.prototype.push=function(t){this.nodeData.push({node:t,name:t.element.innerText,parent:void 0,children:[]})},t.prototype.turn=function(t){for(var e=t.getAttribute("data-index").split("-"),n=parseInt(e.shift()),i=parseInt(e[e.length-1]),o=this.nodeData[n],r=0,a=e;r<a.length;r++){var l=a[r];o=o.children[parseInt(l)]}!o.parent&&n>0||o.parent&&0!==i?this.createTab(t):this.deleteTab(t)},t.prototype.createTab=function(t){for(var e=t.getAttribute("data-index").split("-"),n=parseInt(e.shift()),i=this.nodeData[n],o=0,r=e;o<r.length;o++){var a=r[o];i=i.children[parseInt(a)]}var l=parseInt(e.pop());if(!i.parent&&n>0){var s=this.nodeData[n-1];s.parent?(i.parent=s.parent,s.parent.children.push(i)):(i.parent=s,s.children.push(i)),this.nodeData.splice(n,1);var d=n-1+"-"+(i.parent.children.length-1);i.node.element.setAttribute("data-index",d),(c=document.createElement("span")).innerHTML="👉",t.insertBefore(c,t.firstChild)}else if(i.parent&&0!==l){i.parent.children.splice(l,1),i.parent=i.parent.children[l-1],i.parent.children.push(i);var c;d=n+(""===e.join("-")?"":"-"+e.join("-"))+"-"+(l-1)+"-"+(i.parent.children.length-1);i.node.element.setAttribute("data-index",d),(c=document.createElement("span")).innerHTML="👉",t.insertBefore(c,t.firstChild)}},t.prototype.deleteTab=function(t){for(var e=t.getAttribute("data-index").split("-"),n=parseInt(e.shift()),i=this.nodeData[n],o=0,r=e;o<r.length;o++){var a=r[o];i=i.children[parseInt(a)]}var l=n+"-";for(a=0;a<i.parent.children.length;a++)i.parent.children[a].node.element===i.node.element&&i.parent.children.splice(a,1);i.parent=i.parent.parent,e.pop(),e.pop(),l+=e.join("-"),i.parent?(l+=i.parent.children.length,i.parent.children.push(i)):(l=this.nodeData.length+"",this.nodeData.push(i)),i.node.element.setAttribute("data-index",l),i.node.element.querySelector("span").remove(),console.log(this.nodeData)},t.prototype.update=function(){},t}()),o=new(function(){function t(){this.state={containerEl:void 0,currentEditEl:void 0,titleInputEl:void 0,title:"Untitled"}}return t.prototype.init=function(t,e){void 0===t&&(t=document.body);var n=document.createElement("div");n.className="editor-root-container",this.rootEl=n;var o=document.createElement("input");o.className="editor-title-input",o.setAttribute("type","text"),o.value=this.state.title,this.state.titleInputEl=o,n.append(o);var r=document.createElement("div");r.className="editor-content-container",this.state.containerEl=r,n.append(r);var a=document.createElement("p");a.setAttribute("contenteditable","true"),a.setAttribute("data-index","0"),a.innerText="Edit here",r.append(a),i.push({element:a,content:a.innerText}),t.append(this.rootEl),this.initEventHandle()},t.prototype.getTitle=function(){return this.state.title},t.prototype.initEventHandle=function(){this.state.containerEl.addEventListener("click",this.handleEditorClick.bind(this)),this.state.containerEl.addEventListener("keydown",this.handleEditorInput.bind(this)),this.state.titleInputEl.addEventListener("input",this.handleTitleInputChange.bind(this))},t.prototype.handleEditorClick=function(t){this.state.currentEditEl=t.srcElement},t.prototype.handleTitleInputChange=function(t){this.state.title=t.target.value},t.prototype.handleEditorInput=function(t){if("Tab"===t.key)t.preventDefault(),i.turn(this.state.currentEditEl);else if("Enter"===t.key){if(t.preventDefault(),this.state.currentEditEl.nextElementSibling){var e=this.state.currentEditEl.nextElementSibling;this.state.currentEditEl=e}else{var n=document.createElement("p");n.setAttribute("contenteditable","true"),n.setAttribute("data-index",i.getLength()+""),this.state.containerEl.append(n),this.state.currentEditEl=n,i.push({element:n,content:n.innerText})}this.state.currentEditEl.focus()}else if("Backspace"===t.key){var o=this.state.currentEditEl;if(""===o.innerText&&o.previousElementSibling){e=this.state.currentEditEl.previousElementSibling;this.state.currentEditEl=e,o.remove(),t.preventDefault()}this.state.currentEditEl.focus()}},t}()),r=(n("bGvS"),n("MT78")),a=(n("zwkd"),new(function(){function t(){this.state={containerEl:void 0,closeBtnEl:void 0}}return t.prototype.init=function(t,e){void 0===t&&(t=document.body);var n=document.createElement("div");n.className="brain-map-cover";var a=document.createElement("div");a.className="brain-map-container",n.append(a);var l=document.createElement("span");l.className="close-btn",l.innerText="❌",n.append(l),this.rootEl=n,this.state.containerEl=a,this.state.closeBtnEl=l,t.append(this.rootEl),this.initEventHandle();for(var s=r.init(this.state.containerEl),d=[],c=0,p=i.getData();c<p.length;c++){var h=p[c];d.push(this.formatNodesDataToEcharts(h))}var u={tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"tree",layout:"orthogonal",orient:"LR",symbol:"circle",symbolSize:4,edgeShape:"polyline",roam:"move",itemStyle:{color:"#37352F"},label:{show:!0,color:"#37352F",fontSize:16,position:"right",align:"left",verticalAlign:"middle"},data:d=[{name:o.getTitle(),children:d}],top:"0",left:"5%",leaves:{label:{position:"right",verticalAlign:"middle",align:"left"}},expandAndCollapse:!0,animationDuration:550,animationDurationUpdate:750}]};s.setOption(u)},t.prototype.handleCloseBtnClick=function(){this.rootEl.remove()},t.prototype.initEventHandle=function(){this.state.closeBtnEl.addEventListener("click",this.handleCloseBtnClick.bind(this))},t.prototype.formatNodesDataToEcharts=function(t){var e=this;return 0===t.children.length?{name:t.node.element.innerText}:(t.children.forEach((function(n,i){return t.children[i]=e.formatNodesDataToEcharts(n)})),{name:t.node.element.innerText,children:t.children})},t}())),l=new(function(){function t(){this.state={}}return t.prototype.init=function(t,e){void 0===t&&(t=document.body);var n=document.createElement("div");n.className="tools-bar-container",this.rootEl=n,t.append(this.rootEl),this.initBtns()},t.prototype.initBtns=function(){var t=document.createElement("div");t.className="tool-btn",t.innerHTML="生成脑图",t.addEventListener("click",this.handleShowBrainMapClick.bind(this)),this.rootEl.append(t)},t.prototype.handleShowBrainMapClick=function(t){console.log("应该生成脑图了：",i.getData()),a.init()},t}());document.body,l.init(),o.init()},"/U2I":function(t,e,n){(e=n("JPst")(!1)).push([t.i,".mainFontStyle {\n  color: #37352F;\n  font-size: 16px;\n  line-height: 24px;\n}\n.flexColumn {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.brain-map-cover {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  background-color: rgba(255, 255, 255, 0.7);\n}\n.brain-map-cover > .brain-map-container {\n  width: 800px;\n  height: 600px;\n  background-color: white;\n}\n",""]),t.exports=e},"33JV":function(t,e,n){var i=n("LboF"),o=n("qIrS");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1},a=(i(o,r),o.locals?o.locals:{});t.exports=a},LUCm:function(t,e,n){(e=n("JPst")(!1)).push([t.i,".tools-bar-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 70px;\n  padding: 0 10%;\n  z-index: 10;\n  display: flex;\n  flex-direction: row;\n  justify-content: start;\n  align-items: center;\n}\n.tools-bar-container > .tool-btn {\n  cursor: pointer;\n}\n.tools-bar-container > .tool-btn:hover {\n  color: black;\n}\n",""]),t.exports=e},OGhG:function(t,e,n){var i=n("LboF"),o=n("a3zi");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1},a=(i(o,r),o.locals?o.locals:{});t.exports=a},a3zi:function(t,e,n){(e=n("JPst")(!1)).push([t.i,".mainFontStyle {\n  color: #37352F;\n  font-size: 16px;\n  line-height: 24px;\n}\n.flexColumn {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\nbody {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #37352F;\n  font-size: 16px;\n  line-height: 24px;\n}\n",""]),t.exports=e},bGvS:function(t,e,n){var i=n("LboF"),o=n("LUCm");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1},a=(i(o,r),o.locals?o.locals:{});t.exports=a},qIrS:function(t,e,n){(e=n("JPst")(!1)).push([t.i,".mainFontStyle {\n  color: #37352F;\n  font-size: 16px;\n  line-height: 24px;\n}\n.flexColumn {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.editor-root-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  padding: 70px 10% 40px 10%;\n  display: flex;\n  flex-direction: column;\n  justify-content: start;\n  align-items: center;\n}\n.editor-root-container > .editor-title-input {\n  width: 100%;\n  height: 40px;\n  margin-bottom: 40px;\n  font-size: 24px;\n  line-height: 1.2;\n  outline: none;\n  border: none;\n  border-bottom: 1px solid lightgray;\n}\n.editor-root-container > .editor-title-input:focus {\n  border-bottom: 1px solid gray;\n}\n.editor-root-container > .editor-content-container {\n  width: 100%;\n  overflow-y: auto;\n}\n.editor-root-container > .editor-content-container > [contenteditable=true] {\n  cursor: text;\n}\n.editor-root-container > .editor-content-container p[contenteditable=true] {\n  outline: none;\n  border-bottom: 1px solid lightgray;\n  padding: 8px 0 2px 0;\n}\n.editor-root-container > .editor-content-container p[contenteditable=true]:focus {\n  border-bottom: 1px solid gray;\n}\n",""]),t.exports=e},zwkd:function(t,e,n){var i=n("LboF"),o=n("/U2I");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1},a=(i(o,r),o.locals?o.locals:{});t.exports=a}},[["/7QA",1,2]]]);